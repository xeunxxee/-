<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="css/styles.css" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat - Kokoa Clone</title>
  </head>

  <body class="chat-body">
    <div class="status-bar">
      <div class="status-bar__column">
        <span>No Service</span>
        <i class="fa-solid fa-wifi"></i>
      </div>
      <div class="status-bar__column">
        <span>20:03</span>
      </div>
      <div class="status-bar__column">
        <span>521%</span>
        <i class="fa-solid fa-battery-full fa-2x"></i>
        <i class="fa-solid fa-bolt-lightning"></i>
      </div>
    </div>

    <header class="chat-header">
      <div class="chat-header-column">
        <a href="chats.html"><i class="fa-solid fa-chevron-left fa-lg"></i>
      </div></a>
      <div class="chat-header-column">
        <h1 class="screen-header_title">오늘의 이슈, 오늘의 개정</h1>
      </div>
      <div class="chat-header-column">
        <span><i class="fa-solid fa-magnifying-glass fa-lg"></i></span>
        <span><i class="fa-solid fa-bars fa-lg"></i></span>
      </div>
    </header>

    <main class="chat-screen">
      <div class="chat-date-box">
        <a class="chat-date">Sunday, January, 2023</a>
      </div>

      <div id="messageContainer"></div> <!-- 새 말풍선을 추가할 컨테이너 -->

      <div class="chat-row">
        <img class="chat-row-img" src="img/cats1.png"/>
        <div class="chat-row-text">
          <p class="chat-row-name">오늘의 이슈, 오늘의 개정</p>
          <div class="chat-row-info">
            <p class="chat-row-messege">
              금주의 이슈를 알려드립니다!
            </p>
          </div>
        </div>
      </div>
      
      <div class="chat-row">
        <img class="chat-row-img-hidden" src="img/cats1.png"/>
        <div class="chat-row-text">
          <div class="chat-row-info">
            <p class="chat-row-messege">
              <button class="chat-row-messege-vote" id="dog">개</button>
              <button class="chat-row-messege-vote" id="airplane">항공기</button>
              <button class="chat-row-messege-vote" id="import">수입</button>
                         </p>
            <p class="chat-row-time">9:00</p>
          </div>
        </div>
      </div>

      <div class="chat-row row--me">
        <div class="chat-row-text">
          <div class="chat-row-info">
            <p class="chat-row-time">9:00</p>
            <p class="chat-row-messege messege--by-me">궁금한 이슈의 키워드를 눌러보세요!</p>
          </div>
        </div>
      </div> 
      
      <div class="fixed-buttons">
        <button class="fixed-button" onclick="createMessage('left')">오늘의 이슈</button>
        <button class="fixed-button" onclick="createMessage('center')">함께 논의</button>
        <button class="fixed-button" onclick="createMessage('right')">투표하기</button>
      </div>


<script>
  // 투표 버튼 클릭 이벤트 핸들러 함수
   function voteButtonClickHandler(event) {
        const selectedOption = event.currentTarget.textContent; // 클릭한 버튼의 텍스트(보기 1, 보기 2, 보기 3)
        const chatScreen = event.currentTarget.closest('.chat-screen');
        const newDiv = document.createElement('div');
        newDiv.classList.add('chat-row');

        const newImg = document.createElement('img');
        newImg.classList.add('chat-row-img-hidden');
        newImg.src = 'img/cats1.png';

        const newRowText = document.createElement('p');
        newRowText.classList.add('chat-row-messege');
        newRowText.textContent = `투표가 완료되었습니다! 선택한 옵션: ${selectedOption}`;

        newDiv.appendChild(newImg);
        newDiv.appendChild(newRowText);
        chatScreen.appendChild(newDiv);
    }
    // 각 버튼을 가져오기
const buttons = document.querySelectorAll('.chat-row-messege-vote');

// 버튼을 클릭했을 때 실행될 함수
function buttonClickHandler(event) {  
  
  
  // 새로운 div 생성
  const newDiv = document.createElement('div');
  newDiv.classList.add('chat-row');
  

  // 이미지 요소 생성 및 속성 설정
  const newImg = document.createElement('img');
  newImg.classList.add('chat-row-img');
  newImg.src = 'img/cats1.png';

  // chat-row-text 요소 생성
  const newRowText = document.createElement('div');
  newRowText.classList.add('chat-row-text');

  // 이름 요소 생성
  const newName = document.createElement('p');
  newName.classList.add('chat-row-name');
  newName.textContent = '오늘의 이슈, 오늘의 개정';

  // 내용 요소 생성
  const newContent = document.createElement('div');
  newContent.classList.add('chat-row-info');

    // 메시지 wrapper 생성
  const newMessageWrapper = document.createElement('div');
  newMessageWrapper.classList.add('message-wrapper');

  // messageContainer 선택
  const messageContainer = document.getElementById('messageContainer');

  // chat-screen 요소에 새로운 div 추가
  const chatScreen = event.currentTarget.closest('.chat-screen');
  chatScreen.appendChild(newDiv);

  // 각 버튼의 ID를 확인하여 동작 수행
  switch (event.currentTarget.id) {
    case 'airplane':
      // "항공기" 버튼일 경우의 처리
      // 링크 요소 생성
      const linkElementairplane = document.createElement('a');
      linkElementairplane.href = 'https://naver.com'; // 링크 주소 설정
      linkElementairplane.target = '_blank'; // 새 탭에서 링크 열기

      // 이미지 요소 생성
      const newArticleImageairplane = document.createElement('img');
      newArticleImageairplane.classList.add('article-image');
      newArticleImageairplane.src = 'img/승희.jpg';
      newArticleImageairplane.alt = 'Attached Image';

      // 링크 요소에 이미지 요소 추가
      linkElementairplane.appendChild(newArticleImageairplane);

      // chat-row-messege 내에 링크(이미지 포함)와 텍스트를 나란히 배치하기 위한 컨테이너 생성
      const messageContainerairplane = document.createElement('div');
      messageContainerairplane.classList.add('chat-row-messege');
    
      // 메시지 컨테이너에 링크(이미지 포함) 요소 추가
      messageContainerairplane.appendChild(linkElementairplane);

      // 텍스트 요소 생성 및 설정
      const textElementairplane = document.createElement('span');
      textElementairplane.textContent = ' 항공기 뭐시기'; // 텍스트 내용 설정
      textElementairplane.style.marginLeft = '10px'; // 이미지와 텍스트 간 간격 조정

      // 메시지 컨테이너에 텍스트 요소 추가
      messageContainerairplane.appendChild(textElementairplane);

      // 내용 요소에 메시지 컨테이너 추가
      newContent.appendChild(messageContainerairplane);
      break;
     
      
      case 'dog':
      console.log("'개' 버튼 클릭됨"); // 디버깅을 위한 로그
      // "개" 버튼일 경우의 처리
      // 링크 요소 생성
      const linkElementdog = document.createElement('a');
      linkElementdog.href = 'https://naver.com'; // 링크 주소 설정
      linkElementdog.target = '_blank'; // 새 탭에서 링크 열기

      // 이미지 요소 생성
      const newArticleImagedog = document.createElement('img');
      newArticleImagedog.classList.add('article-image');
      newArticleImagedog.src = 'img/승희.jpg';
      newArticleImagedog.alt = 'Attached Image';

      // 링크 요소에 이미지 요소 추가
      linkElementdog.appendChild(newArticleImagedog);

      // chat-row-messege 내에 링크(이미지 포함)와 텍스트를 나란히 배치하기 위한 컨테이너 생성
      const messageContainerdog = document.createElement('div');
      messageContainerdog.classList.add('chat-row-messege');
    
      // 메시지 컨테이너에 링크(이미지 포함) 요소 추가
      messageContainerdog.appendChild(linkElementdog);

      // 텍스트 요소 생성 및 설정
      const textElementdog = document.createElement('span');
      textElementdog.textContent = 'ㅇㅇㅇw '; // 텍스트 내용 설정
      textElementdog.style.marginLeft = '10px'; // 이미지와 텍스트 간 간격 조정

      // 메시지 컨테이너에 텍스트 요소 추가
      messageContainerdog.appendChild(textElementdog);

      // 내용 요소에 메시지 컨테이너 추가
      newContent.appendChild(messageContainerdog);

      
      // 메시지를 포함할 컨테이너 생성
      const messageContainer = document.createElement('div');
      messageContainer.classList.add('chat-row');

      // '글씨1' 메시지와 이미지를 포함할 div 생성
      const firstMessageContainer = document.createElement('div');
      firstMessageContainer.classList.add('chat-row-messege-container'); // 새로운 클래스

      // '글씨1' 메시지 생성
      const firstMessageText = document.createElement('p');
      firstMessageText.classList.add('chat-row-messege');
      firstMessageText.textContent = '글씨1';

      // '글씨1' 메시지용 이미지 생성
      const firstMessageImg = document.createElement('img');
      firstMessageImg.classList.add('chat-row-img');
      firstMessageImg.src = 'img/cats1.png';

      // '글씨1' 메시지와 이미지를 컨테이너에 추가
      firstMessageContainer.appendChild(firstMessageImg);
      firstMessageContainer.appendChild(firstMessageText);

      // '글씨1'' 메시지 생성 (바로 오른쪽에 위치)
      const secondMessageText = document.createElement('p');
      secondMessageText.classList.add('chat-row-messege', 'second-message'); // 'second-message' 클래스 추가
      secondMessageText.textContent = "글씨1'";

      // 메시지 컨테이너에 첫 번째와 두 번째 메시지 컨테이너 추가
      messageContainer.appendChild(firstMessageContainer);
      messageContainer.appendChild(secondMessageText);

 // '국회의원 모아보기' 채팅 메시지 컨테이너
const additionalMessage2 = document.createElement('div');
additionalMessage2.classList.add('chat-row-messege'); // 채팅 메시지 스타일 적용

// '국회의원 모아보기' 제목
const lawmakerTitleText = document.createElement('p');
lawmakerTitleText.textContent = '국회의원 모아보기';
lawmakerTitleText.style.fontWeight = 'bold';
additionalMessage2.appendChild(lawmakerTitleText);

// 사진과 설명을 추가
const items = [
  { imgSrc: 'img/channel.jpg', text: '사진1 설명', link: 'https://example.com/link1' },
  { imgSrc: 'img/channel.jpg', text: '사진2 설명', link: 'https://example.com/link2' },
  { imgSrc: 'img/channel.jpg', text: '사진3 설명', link: 'https://example.com/link3' }
];

items.forEach(item => {
  const itemLink = document.createElement('a');
  itemLink.href = item.link;
  itemLink.target = '_blank';

  const itemImg = document.createElement('img');
  itemImg.src = item.imgSrc;
  itemImg.alt = item.text;
  itemImg.style.width = '100px'; // 이미지 크기 조정
  itemImg.style.display = 'block'; // 이미지를 블록 요소로 표시
  itemImg.style.margin = '0 auto 10px'; // 이미지를 중앙 정렬 및 마진 조정
  itemLink.appendChild(itemImg);

  const itemText = document.createElement('p');
  itemText.textContent = item.text;
  itemText.style.textAlign = 'center'; // 텍스트 중앙 정렬

  additionalMessage2.appendChild(itemLink);
  additionalMessage2.appendChild(itemText);
});


  // chat-screen 요소에 추가 메시지 div 추가
  chatScreen.appendChild(messageContainer);
  chatScreen.appendChild(additionalMessage2);
  

  break;



      case 'import':
      // "수입" 버튼일 경우의 처리
      // 링크 요소 생성
      const linkElementimport = document.createElement('a');
      linkElementimport.href = 'https://naver.com'; // 링크 주소 설정
      linkElementimport.target = '_blank'; // 새 탭에서 링크 열기

      // 이미지 요소 생성
      const newArticleImageimport = document.createElement('img');
      newArticleImageimport.classList.add('article-image');
      newArticleImageimport.src = 'img/승희.jpg';
      newArticleImageimport.alt = 'Attached Image';

      // 링크 요소에 이미지 요소 추가
      linkElementimport.appendChild(newArticleImageimport);

      // chat-row-messege 내에 링크(이미지 포함)와 텍스트를 나란히 배치하기 위한 컨테이너 생성
      const messageContainerimport = document.createElement('div');
      messageContainerimport.classList.add('chat-row-messege');
    
      // 메시지 컨테이너에 링크(이미지 포함) 요소 추가
      messageContainerimport.appendChild(linkElementimport);

      // 텍스트 요소 생성 및 설정
      const textElementimport = document.createElement('span');
      textElementimport.textContent = 'ㅇㅇㅇ '; // 텍스트 내용 설정
      textElementimport.style.marginLeft = '10px'; // 이미지와 텍스트 간 간격 조정

      // 메시지 컨테이너에 텍스트 요소 추가
      messageContainerimport.appendChild(textElementimport);

      // 내용 요소에 메시지 컨테이너 추가
      newContent.appendChild(messageContainerimport);
      break;
      

    // 다른 버튼에 대한 동작을 추가하려면 아래에 case를 계속해서 작성하면 됩니다.

    
  }

  // chat-row-text 요소에 이름 요소와 내용 요소 추가
  newRowText.appendChild(newName);
  newRowText.appendChild(newContent);

  // 새로운 div에 이미지 요소와 chat-row-text 요소 추가
  newDiv.appendChild(newImg);
  newDiv.appendChild(newRowText);

}

// 모든 버튼에 클릭 이벤트 추가
buttons.forEach(button => {
  button.addEventListener('click', buttonClickHandler);
});


</script>
    
    </main>

    <form class="reply">
      <div class="reply__column">
        <i class="fa-regular fa-square-plus fa-lg"></i>
      </div>
      <div class="reply__column">
        <input class="reply__input" type="text" placeholder="Write a messege..."/>
        <i class="fa-regular fa-face-smile fa-lg"></i>
        <button class="reply__btn">
          <i class="fa-solid fa-arrow-up fa-lg"></i>
        </button>
      </div>

    </form>

    <script>
  // 3버튼기능을 위한 함수
  function createMessage(button) {
    const chatScreen = document.querySelector('.chat-screen');
    const newDiv = document.createElement('div');
    newDiv.classList.add('chat-row');

    const newImg = document.createElement('img');
    newImg.classList.add('chat-row-img-hidden');
    newImg.src = 'img/cats1.png';

    const newRowText = document.createElement('p');
    newRowText.classList.add('chat-row-messege');

    switch (button) {
      case 'left':
        newRowText.textContent = '오늘의 이슈';
        break;

      case 'center':
        newRowText.textContent = '함께 논의';
        break;

      case 'right':
          newRowText.innerHTML = `
            <p class="chat-row-messege">투표하세요:</p>
            <div class="chat-row-info">
                <button class="chat-row-messege-vote" id="voteOption1">보기 1</button>
                <button class="chat-row-messege-vote" id="voteOption2">보기 2</button>
                <button class="chat-row-messege-vote" id="voteOption3">보기 3</button>
            </div>
        `;
        // 각 투표 버튼에 클릭 이벤트 추가
        newRowText.querySelectorAll('.chat-row-messege-vote').forEach(button => {
            button.addEventListener('click', voteButtonClickHandler);
            
        });
        break;
    }

    newDiv.appendChild(newImg);
    newDiv.appendChild(newRowText);
    chatScreen.appendChild(newDiv);
  }
  
  // 투표 버튼 클릭 이벤트 핸들러 함수
  function voteButtonClickHandler(event) {
    const selectedOption = event.currentTarget.textContent; // 클릭한 버튼의 텍스트(보기 1, 보기 2, 보기 3)
    const chatScreen = event.currentTarget.closest('.chat-screen');
    const newDiv = document.createElement('div');
    newDiv.classList.add('chat-row');

    const newImg = document.createElement('img');
    newImg.classList.add('chat-row-img-hidden');
    newImg.src = 'img/cats1.png';

    const newRowText = document.createElement('p');
    newRowText.classList.add('chat-row-messege');
    newRowText.textContent = `투표가 완료되었습니다! 선택한 옵션: ${selectedOption}`;

    newDiv.appendChild(newImg);
    newDiv.appendChild(newRowText);
    chatScreen.appendChild(newDiv);
  }
</script>

    
    <script
      src="https://kit.fontawesome.com/e14cec3ae0.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>


